.include "M328PDEF.INC"
	.ORG 0
	;	ESTABLISHED POWER CODE FROM LAB
	;	SETTING UP FOR OUTPUT
	LDI R16,$02
	LDI R17, $03
	OUT DDRB, R16
	OUT PORTB, R16
	OUT PORTB, R17 


	LDI R16, 0b01111111
	OUT DDRD, R16 ; load direction reg d w/r16
	OUT PORTD, R16 ; output r16 to port d
	
	LDI	ZH,HIGH(XSQR_TABLE<<1)	
L1:	LDI	ZL,LOW(XSQR_TABLE<<1)	
	IN	R16,PINB	
	ANDI	R16,0x0F	
	ADD	ZL,R16
	LPM	R18,Z		
	OUT	PORTC,R18
	RJMP L1

.ORG 0x10
TRANS_TABLE: ; TRANSISTOR LUT 
	.DB 00000001,	;DS1, X1 
		00000010,	;DS2, X2
		00000011,	;DS3, X3
		00000100	;DS4, X4

.ORG 0x20
7SEG_TABLE: ; table for 7-seg-decode
	.DB 00111111,	;0
		00000110,	;1
		01010011,	;2
		01001111,	;3
		01100110,	;4
		01101101,	;5
		01111101,	;6
		00000111,	;7
		01111111,	;8
		01100111,	;9
		01110111,	;A
		01111110,	;B
		00111001,	;C
		01011110,	;D
		01111001,	;E
		01110001	;F
